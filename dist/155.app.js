"use strict";(self.webpackChunkminesweeper2=self.webpackChunkminesweeper2||[]).push([[155],{1155:function(n,r,e){e.r(r),e.d(r,{default:function(){return pn}});var t=e(5893),o=e(7294),i=e(3950),a=e(981),l=e(3379),s=e.n(l),c=e(7795),u=e.n(c),f=e(569),d=e.n(f),p=e(3565),h=e.n(p),g=e(9216),v=e.n(g),m=e(4589),b=e.n(m),x=e(7724),y={};y.styleTagTransform=b(),y.setAttributes=h(),y.insert=d().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=v(),s()(x.Z,y),x.Z&&x.Z.locals&&x.Z.locals;var w=e(9704),C=e(5417),j=e(614),O=function(){return O=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n},O.apply(this,arguments)},k=function(n){var r=n.levelInfo,e=(0,w.I0)(),i=(0,w.v9)((function(n){return{extraCell:n.game.isGameOver,takenTime:n.game.takenTime,userId:n.login.id}})),a=i.extraCell,l=i.takenTime,s=i.userId,c=0===a;return(0,o.useEffect)((function(){return-1!==l&&s&&""!==s&&(console.log(c),j.Z.post("/api/auth/game",{id:s,record:l/1e3,success:c,level:r}).then((function(n){}))),e((0,C.x2)(!1)),function(){return localStorage.setItem("difficulty",r)}}),[c,l,s,e,r]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",O({className:a<=0?"modal":"modal hidden"},{children:[(0,t.jsx)("div",{className:"modal-overlay"},void 0),(0,t.jsxs)("div",O({className:"modal-content"},{children:[(0,t.jsxs)("div",{children:[" Time : ",l/1e3]},void 0),(0,t.jsxs)("div",{children:[" Level : ",r]},void 0),(0,t.jsx)("button",O({className:"closemodal",onClick:function(){e((0,C.x2)(!0)),e((0,C.Tm)(-1))}},{children:"Close"}),void 0)]}),void 0)]}),void 0)},void 0)},F=e(2535),E={};E.styleTagTransform=b(),E.setAttributes=h(),E.insert=d().bind(null,"head"),E.domAPI=u(),E.insertStyleElement=v(),s()(F.Z,E),F.Z&&F.Z.locals&&F.Z.locals;var D=function(n,r){return Array.from({length:n},(function(){return Array})).map((function(){return Array.from({length:r},(function(){return{mine:!1,neighbor:0,visited:!1,flaged:!1,visible:" "}}))}))},I=function(n,r){for(var e=n.length,t=n[0].length,o=r;o;){var i=window.crypto.getRandomValues(new Uint8Array(1))[0]%e,a=window.crypto.getRandomValues(new Uint8Array(1))[0]%t;!1===n[i][a].mine&&(n[i][a].mine=!0,o--)}},_=function(n,r,e,t){for(var o=t.row,i=t.col,a=0,l=n-1;l<=n+1;l++)for(var s=r-1;s<=r+1;s++)T(l,s,o,i)||n===l&&r===s||!0===e[l][s].mine&&a++;return a},T=function(n,r,e,t){return n<0||r<0||n>=e||r>=t},A=e(1088),S={};S.styleTagTransform=b(),S.setAttributes=h(),S.insert=d().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=v(),s()(A.Z,S),A.Z&&A.Z.locals&&A.Z.locals;var R,Z,M=function(){return M=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n},M.apply(this,arguments)},L=function(n){return n<10?"00"+n:n>=10&&n<100?"0"+n:String(n)},P=function(n){var r=n.firstClick,e=n.numofFlag,i=n.isGameOver,a=(0,w.I0)(),l=(0,o.useState)(0),s=l[0],c=l[1],u=(0,o.useRef)(null),f=(0,o.useRef)(null);return(0,o.useEffect)((function(){return f.current=(new Date).getTime(),u.current=setInterval((function(){!1===r&&c((function(n){return n+1}))}),1e3),function(){return clearInterval(u.current)}}),[r]),(0,o.useEffect)((function(){if(i){var n=(new Date).getTime();a((0,C.Tm)(n-f.current)),f.current=null,c((function(n){return 0}))}clearInterval(u.current),u.current=null}),[i,a]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",M({className:"gameinfo"},{children:[(0,t.jsxs)("span",{children:[" ⏳",(0,t.jsxs)("label",{children:[" ",L(s)]},void 0)]},void 0),(0,t.jsx)("span",M({className:"heart"},{children:"💗"}),void 0),(0,t.jsxs)("span",{children:[" 🚩",(0,t.jsxs)("label",{children:[" ",e," "]},void 0)]},void 0)]}),void 0)},void 0)},N=[0,0,1,-1,-1,-1,1,1],K=[1,-1,0,0,-1,1,-1,1],G=function(){function n(n,r,e){this.cellData=n,this.coord=r,this.boardSize=e}return n.prototype.getCellData=function(){return this.cellData},n.prototype.checkOutRange=function(n,r){return n<0||r<0||n>=this.boardSize.row||r>=this.boardSize.col},n.prototype.depthFirstSearch=function(n){var r=1,e=n.y,t=n.x,o=this.cellData;o[e][t].visited=!0,r+=this.setNeighborCell(n);for(var i=0;i<8;i++){var a=e+N[i],l=t+K[i];this.checkOutRange(a,l)||!1===o[a][l].visited&&o[a][l].neighbor<=0&&!1===o[a][l].flaged&&!1===o[a][l].mine&&(r+=this.depthFirstSearch({y:a,x:l}))}return r},n.prototype.setNeighborCell=function(n){for(var r=0,e=n.y,t=n.x,o=this.cellData,i=e-1;i<=e+1;i++)for(var a=t-1;a<=t+1;a++)this.checkOutRange(i,a)||i===e&&a===t||!0!==o[i][a].visited&&o[i][a].neighbor>0&&!1===o[i][a].flaged&&(o[i][a].visible=o[i][a].neighbor,o[i][a].visited=!0,r++);return r},n}(),z=(R=function(n,r){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])},R(n,r)},function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=n}R(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),H={render:!1,flag:!1,removeCell:-1},W={render:!0,flag:!1,removeCell:987654321},B=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return z(r,n),r.prototype.process=function(){var n=this.coord,r=n.y,e=n.x,t=this.cellData;return!0===t[r][e].visited||!0===t[r][e].flaged?H:!0===t[r][e].mine?(t[r][e].visible="💣",W):t[r][e].neighbor>0?(t[r][e].visible=t[r][e].neighbor,t[r][e].visited=!0,{render:!0,flag:!1,removeCell:1}):{render:!0,flag:!1,removeCell:this.depthFirstSearch({y:r,x:e})}},r}(G),U=B,V=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])},n(r,e)};return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}n(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),q={render:!1,flag:!1,removeCell:-1},J=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return V(r,n),r.prototype.process=function(){var n=this.cellData,r=this.coord,e=r.y,t=r.x;if(!0===n[e][t].visited&&(n[e][t].neighbor>0||n[e][t].neighbor<=0))return q;var o=n[e][t].flaged;return o=!o,n[e][t].flaged=o,n[e][t].visible=!0===o?"🚩":" ",{render:!0,flag:!0,removeCell:0}},r}(G),Q=J,X=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])},n(r,e)};return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}n(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),Y={render:!1,flag:!1,removeCell:-1},$={render:!0,flag:!1,removeCell:987654321},nn=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return X(r,n),r.prototype.process=function(){var n=0,r=this.cellData,e=this.coord,t=e.y,o=e.x;if(r[t][o].neighbor<0||!0===r[t][o].flaged||!1===r[t][o].visited)return console.log("norender"),Y;for(var i=0,a=0,l=t-1;l<=t+1;l++)for(var s=o-1;s<=o+1;s++)this.checkOutRange(l,s)||(!0===r[l][s].flaged&&a++,this.isFlagonMine(l,s)&&i++);if(a>r[t][o].neighbor)return $;if(a===r[t][o].neighbor&&i!==r[t][o].neighbor)return $;if(i!==r[t][o].neighbor)return Y;for(l=t-1;l<=t+1;l++)for(s=o-1;s<=o+1;s++)this.checkOutRange(l,s)||!0!==r[l][s].flaged&&!0!==r[l][s].visited&&(r[l][s].neighbor>0?(r[l][s].visible=r[l][s].neighbor,r[l][s].visited=!0,n++):n+=this.depthFirstSearch({y:l,x:s}));return{render:!0,flag:!1,removeCell:n}},r.prototype.isFlagonMine=function(n,r){return!0===this.cellData[n][r].flaged&&!0===this.cellData[n][r].mine},r}(G),rn=nn;!function(n){n[n.LEFTCLICK=0]="LEFTCLICK",n[n.WHEELCLICK=1]="WHEELCLICK",n[n.RIGHTCLCK=2]="RIGHTCLCK"}(Z||(Z={}));var en,tn,on,an=function(){return an=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n},an.apply(this,arguments)},ln=["","#FF245E","#8CA9FA","#FFAA39","#7EEE62","#D9D1E8","#0DEBEB","#A566F8","#A9350B"],sn=function(n){var r=n.value,e=n.islock,o=n.onMouseDown,i=n.onContextMenu,a=ln[r];return(0,t.jsx)("div",an({className:e?"lock":"cell",onMouseDown:o,onContextMenu:i},{children:(0,t.jsx)("div",an({className:"cell-text",style:{color:""+a}},{children:r}),void 0)}),void 0)},cn=e(9163),un=function(){return un=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n},un.apply(this,arguments)},fn=cn.ZP.div(en||(tn=["\n  background-color: #2e2d2d;\n  border-radius: 5px;\n  padding:20px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  border:2px solid var(--main-theme-color);\n  min-width: ",";\n"],on=["\n  background-color: #2e2d2d;\n  border-radius: 5px;\n  padding:20px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  border:2px solid var(--main-theme-color);\n  min-width: ",";\n"],Object.defineProperty?Object.defineProperty(tn,"raw",{value:on}):tn.raw=on,en=tn),(function(n){return n.minWidth})),dn=function(n){var r=n.levelInfo,e=n.minWidth,i=(0,w.I0)(),a=(0,o.useState)(D(r.row,r.col)),l=a[0],s=a[1],c=(0,o.useState)(!0),u=c[0],f=c[1],d=(0,o.useState)(r.numberOfMine),p=d[0],h=d[1],g=(0,w.v9)((function(n){return{extraCell:n.game.isGameOver,gameRestart:n.game.gameRestart}})),v=g.extraCell,m=g.gameRestart;(0,o.useEffect)((function(){var n=r.row,e=r.col,t=r.numberOfMine,o=D(n,e);I(o,t),function(n,r){for(var e=r.row,t=r.col,o=0;o<e;o++)for(var i=0;i<t;i++)n[o][i].neighbor=_(o,i,n,r)}(o,{row:n,col:e,numberOfMine:t}),s(o),h(t),f(!0),i((0,C.D2)(n*e-t))}),[m,r,i]);var b=l.map((function(n,e){return(0,t.jsx)("div",un({className:"game-container-row"},{children:n.map((function(o,a){return(0,t.jsx)(sn,{value:o.mine&&v<=0?"💣":o.visible,islock:o.visited,onMouseDown:function(n){return function(n,e){var t=e.y,o=e.x;n.preventDefault();var a=function(n,r){for(var e=0,t=r.length,o=n.length;e<t;e++,o++)n[o]=r[e];return n}([],l);!function(n,r,e,t){var o=t.y,i=t.x;!0===u&&0===r&&(f(!1),!0===e[o][i].mine&&(e[o][i].mine=!1,I(e,1),s(e)))}(0,n.button,a,{y:t,x:o});var c=r.row,d=r.col,p=function(n,r,e,t){switch(n){case Z.LEFTCLICK:return new U(r,e,t);case Z.RIGHTCLCK:return new Q(r,e);case Z.WHEELCLICK:return new rn(r,e,t)}}(n.button,a,{y:t,x:o},{row:c,col:d}),g=p.process();!0===g.render&&(!0===g.flag&&(!0===p.getCellData()[t][o].flaged?h((function(n){return n-1})):h((function(n){return n+1}))),i((0,C.D2)(v-g.removeCell)),s(a)),p=null}(n,{y:e,x:a})},onContextMenu:function(n){return n.preventDefault()}},e*n.length+a)}))}),e)}));return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(fn,un({minWidth:e},{children:[(0,t.jsx)(P,{firstClick:u,numofFlag:p,isGameOver:v<=0},void 0),b]}),void 0)},void 0)},pn=function(){var n=i.N[localStorage.getItem("difficulty")]||i.N.Easy,r=(0,o.useMemo)((function(){return 10===n.row&&10===n.col&&10===n.numberOfMine?"Easy":16===n.row&&16===n.col&&40===n.numberOfMine?"Normal":"Hard"}),[n]),e=(0,o.useMemo)((function(){return 10===n.row&&10===n.col&&10===n.numberOfMine?"294px":16===n.row&&16===n.col&&40===n.numberOfMine?"444px":"794px"}),[n]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k,{levelInfo:r},void 0),(0,t.jsx)(a.Z,{selected:"Game"},void 0),(0,t.jsx)(dn,{levelInfo:n,minWidth:e},void 0)]},void 0)}},2535:function(n,r,e){var t=e(8081),o=e.n(t),i=e(3645),a=e.n(i)()(o());a.push([n.id,".game-container{\r\n  background-color: #2e2d2d;\r\n  border-radius: 5px;\r\n  padding:20px;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  position: absolute;\r\n  border:2px solid var(--main-theme-color);\r\n  min-width: 294px;\r\n}\r\n\r\n.game-container-row{\r\n  margin-bottom: 0px;\r\n  height:25px;\r\n}\r\n\r\n.cell {\r\n  width: 24px;\r\n  height: 24px;\r\n  background-image:linear-gradient(to bottom, #FFFFFF,#E4E4E4);\r\n  background-color: white;\r\n  margin: 0px 0.5px;\r\n  display:inline-block;\r\n  border-radius: 2px;\r\n  position: relative;\r\n}\r\n\r\n.cell .cell-text{\r\n  position: absolute;\r\n  background-image:linear-gradient(to bottom, #FFFFFF,#E4E4E4);\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.cell:hover{\r\n  background-image:linear-gradient(to bottom, #dee6fc, #ffffff);\r\n}\r\n\r\n.cell:active{\r\n  background-image: linear-gradient(to bottom, #D4F4FA,#BDBDBD);\r\n}\r\n\r\n.lock {\r\n  width: 24px;\r\n  height: 24px;\r\n  background-color: #4a4952;\r\n  margin-right:0.5px;\r\n  margin-left:0.5px;\r\n  display:inline-block;\r\n  border-radius: 2px;\r\n  position: relative;\r\n}\r\n\r\n.lock div{\r\n  position: absolute;\r\n  background-color: #4a4952;\r\n  text-align: center;\r\n  display: inline;\r\n  font-weight: bold;\r\n  font-size: 7px;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}",""]),r.Z=a},1088:function(n,r,e){var t=e(8081),o=e.n(t),i=e(3645),a=e.n(i)()(o());a.push([n.id,'.gameinfo{\r\n  height: 26px;\r\n  margin-bottom: 9px;\r\n  display:flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  min-width: 45px;\r\n}\r\n\r\n.gameinfo span{\r\n  width: 3.5rem;\r\n}\r\n\r\n.gameinfo label{\r\n  color:white;\r\n  font-size: 14px;\r\n  font-family: "Roboto", sans-serif;\r\n}\r\n\r\n.gameinfo .heart{\r\n  font-size: 18px;\r\n  color:rgb(202, 15, 46);\r\n  text-align: center;\r\n}',""]),r.Z=a},7724:function(n,r,e){var t=e(8081),o=e.n(t),i=e(3645),a=e.n(i)()(o());a.push([n.id,'.modal{\r\n  position: fixed;\r\n  display: flex;\r\n  top:0; left:0;\r\n  width:100%;\r\n  height:100%;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1;\r\n  border:2px solid sandybrown;\r\n}\r\n\r\n.modal-overlay{\r\n  width:100%;\r\n  height:100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n}\r\n\r\n.modal-content{\r\n  position: relative;\r\n  width:350px;\r\n  padding: 25px 50px;\r\n  background-color: white;\r\n  font-family: "Roboto", sans-serif;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  border-radius: 8px;\r\n  box-shadow: 0 10px 20px rgba(0,0,0,0.2), 0 6px 6px rgba(0,0,0,0.2);\r\n}\r\n\r\n.closemodal{\r\n  position: relative;\r\n  margin-top:20px;\r\n  background-color: turquoise;\r\n  font-weight: bold;\r\n  color:white;\r\n  font-family: "Roboto", sans-serif;\r\n  border-radius: 5px;\r\n  width:70px;\r\n  height: 25px;\r\n  padding: 0;\r\n  border: none;\r\n}\r\n\r\n.closemodal:hover {\r\n  position: relative;\r\n  margin-top:20px;\r\n  background: linear-gradient(70deg,#1033e3, #f74bf7);\r\n  font-weight: bold;\r\n  color:white;\r\n  font-family: "Roboto", sans-serif;\r\n  border-radius: 5px;\r\n  width:70px;\r\n  height: 25px;\r\n  padding: 0;\r\n  border: none;\r\n}\r\n\r\n.hidden{\r\n  display: none;\r\n}\r\n',""]),r.Z=a}}]);